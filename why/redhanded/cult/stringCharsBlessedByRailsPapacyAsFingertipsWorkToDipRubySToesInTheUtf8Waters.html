<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0148)redhanded.hobix.com/cult/stringCharsBlessedByRailsPapacyAsFingertipsWorkToDipRubySToesInTheUtf8Waters.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/cult/stringCharsBlessedByRailsPapacyAsFingertipsWorkToDipRubySToesInTheUtf8Waters.html">--><BASE href=".">


<TITLE>RedHanded » String#chars Blessed by Rails Papacy as Fingertips Work to Dip Ruby's Toes in the UTF-8 Waters</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">String#chars Blessed by Rails Papacy as Fingertips Work to Dip Ruby's Toes in the UTF-8 Waters
  <SPAN class="entryPermalink"><A href="../cult/stringCharsBlessedByRailsPapacyAsFingertipsWorkToDipRubySToesInTheUtf8Waters.html" title="Permanent link to &ldquo;String#chars Blessed by Rails Papacy as Fingertips Work to Dip Ruby&#39;s Toes in the UTF-8 Waters&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../cult" title="List of entries in the &ldquo;cult&rdquo; category">cult</A>
</DIV>

     <DIV class="entryContent"><P>Cool, good news, the Fingertips’ <A href="http://www.fngtps.com/2006/10/activesupport-multibyte">ActiveSupport::Multibyte</A> is checked into Rails.  This equips every string with a <CODE>chars</CODE> method which offers a host of friendly Unicode-aware methods for the string.  You know: <CODE>reverse</CODE>, <CODE>length</CODE>, <CODE>slice</CODE> and the like.</P>


<PRE> name = 'Claus Müller'
 name.reverse #=&gt; "rell??M sualC" 
 name.length #=&gt; 13

 name.chars.reverse.to_s #=&gt; "rellüM sualC" 
 name.chars.length #=&gt; 12
</PRE>

	<P>This is valuable, essential work.  Thanks to Thijs, Manfred, Julik and related contributors.  Along with <A href="http://git.bitwi.se/?p=ruby-character-encodings.git;a=summary">Nikolai’s work</A>, we’re on our way.</P></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>14:03</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    15 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Simen</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>15:37</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So, is this a Rails-only thing? Cool nonetheless.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>kode</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>15:40</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>fïñällÿ, sömë ümläüts?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>FlashHater</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>16:18</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>It’s ActiveSupport,  AKA  this-should-be-in-stdlib-but-it’s-not. It’s how the Rails people say “Hey! Look at this! We need it!”, but with working examples to boot. Of course, I don’t like HashWithIndifferentAccess replacing Hash, if that’s still on.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>FlashHater</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>16:19</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>It’s ActiveSupport,  AKA  this-should-be-in-stdlib-but-it’s-not. It’s how the Rails people say “Hey! Look at this! We need it!”, but with working examples to boot. Of course, I don’t like HashWithIndifferentAccess replacing Hash, if that’s still on.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Thugly</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>16:34</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>This is indeed fantastic.  I respect Japanese sensibilities about Unicode, I really do, but seeing as it’s the only viable option for 90% of the world, Unicode is going to have to make its way into Ruby one way or another.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>kmeyer</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>16:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I like this just a tad bit better than a  PHP -like str.mb_[name of other method here], although you could probably implement that through method_missing. Does this mean String#chars returns an instance of a “character string” object?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Atnan</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>09 Oct 2006</NOBR> at <NOBR>20:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>kmeyer: Yep.</P>


<PRE>&gt;&gt; ''.chars
=&gt; #&lt;ActiveSupport::Multibyte::Chars:0x60ccd8 @string=""&gt;
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Thijs</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Oct 2006</NOBR> at <NOBR>02:21</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Thugly, Unicode 5.0 and  UTF -8 is actually a perfectly viable option for 99.9% of the world.</P>


	<P>Please take some time to read http://tclab.kaist.ac.kr/~otfried/Mule/unihan.html and http://en.wikipedia.org/wiki/Han_unification</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Dr Nic</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Oct 2006</NOBR> at <NOBR>02:23</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Does it come with free foreign language lessons? That’d be neat.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Manfred</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Oct 2006</NOBR> at <NOBR>02:26</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>kmeyer, flooding the String class with mb_* methods or mistifying it with <CODE>method_missing</CODE> doesn’t seem like a good option to me.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Manfred</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Oct 2006</NOBR> at <NOBR>02:27</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Nic, you can come by the office, we’ll teach you some Dutch (:</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>fio</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Oct 2006</NOBR> at <NOBR>04:10</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Looks like there’s a way without method_missing</P>


	<P>http://www.bigbold.com/snippets/posts/show/2786</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>WWWWolf</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Oct 2006</NOBR> at <NOBR>05:16</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Nic: Yep, there’s quite a few of helpful language lessons included in the documentation, like 文字化け [“changed characters”] being the proper Japanese term for encoding difficulties, and ”Nyt on vuosi 2006 ja skandit ei vieläkään toimi, perkele” [“It’s year 2006 and Scandinavic letters still don’t work, goddamnit”] is basically the most common term for the same phenomenon in Finnish. =)</P>


	<P>But all this is just transitional! Chapter 2 of the language lessons includes stuff that can be used <STRONG>after</STRONG> the transition, like ”Oho, kato, perkele, sehän toimii!” [“Oh, look, goddamn it, it actually works!”]</P>


	<P>Learning the proper terminology from around the world helps, because there’s nothing, nothing in this world that unites the various nations like the fact that Characters Still Get Funnily Messed Up Every Now And Then, and if and when Unicode finally supports all obscure writing systems to full extent (where’s my Tengwar, darn it), the fact that people can finally communicate.</P>


	<P>Transitioning to new character set is always a great big pain, and I can understand why Ruby devs were opposed to implementing this, it’s a trivial issue that’s nonetheless major bore to code. Now that it’s happening, it’s a big relief.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>JEG2</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>11 Oct 2006</NOBR> at <NOBR>14:09</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Please don’t say that Matz was adverse to solving the multilingualization problem.  He has, in fact, been working hard on it for years now.  He’s in the percentage of the world who’s problems are not completely solved by Unicode, so he’s very committed to creating the correct solution.  Let’s not make light of his hard work.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>WWWWolf</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>16 Oct 2006</NOBR> at <NOBR>12:15</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Well, I really appreciate it on how Matz has worked on this and seeing  UTF -8 finally happen in Ruby is very cool. I just say I understand why they’ve been a little bit reluctant to get to the job and are kind of late compared to other languages: Going to <EM>yet another</EM> character set, when they’ve just got the previous ones working fine. It’s probably been an annoying problem. I’m glad it’s being resolved.</P>


	<P>In Finland, we had tons of <STRONG>weird</STRONG> character sets: the “seagull wing scandinavics” based on 7bit  ASCII , IBM  CP 850  (?) and 437 conflicts… and then it finally occurred that everyone wanted Latin-1! And there was much rejoicing. And then came EU and gave us a new currency (€), and then the Language Planning Department says “hey, quit messing up things by using sh and zh, we now have š and ž!” And then the computer guys wake up and realise they’ve just got everything running nicely on Latin-1 and Latin-1 doesn’t have €, š, Š, ž, or Ž! The Boss says “Oh yeah? Well let’s use Latin-15.” The Smart People say “Let’s go to  UTF -8 while we are at it.” And  UTF -8 is nice, but looks funny when the app somehow expects to see Latin-1… it’s 2006 and the scands are still not working. (And people <EM>keep</EM> writing “5 euroa” and “shakki”. =)</P>


	<P>So I’m just trying to say that I foresee a little bit of childhood diseases with this new cool stuff, that’s all.</P></DIV></DIV>
</DIV>


<DIV class="entry">
<FORM name="userComment" method="post" action="/api/comment/cult/stringCharsBlessedByRailsPapacyAsFingertipsWorkToDipRubySToesInTheUtf8Waters">
  <DIV class="entryAttrib">
     <DIV class="entryAuthor"><INPUT name="sayor" type="textbox" size="15" maxlength="50"></DIV>
     <DIV id="liveTime" class="entryTime"><NOBR>11 Jul 2010</NOBR> at <NOBR>21:00</NOBR></DIV>
  </DIV>
  <DIV class="entryContentOuter"><DIV class="entryContent">
     <INPUT type="hidden" name="timestamp" value="yopYLare1A">
     <TEXTAREA name="consay" rows="6" cols="50"></TEXTAREA>
     <P><INPUT type="button" name="pleasePreview" value="preview" onclick="liveTextilePreview(document.forms[&#39;userComment&#39;].elements[&#39;consay&#39;], &#39;textilePreview&#39;, &#39;/api/preview&#39;)">
        <INPUT type="submit" name="submit" value="&gt;&gt;">
        <SMALL>* do <A href="../javascript:quickRedReference();">fancy stuff</A> in your comment.</SMALL>
     </P>
     <DIV id="textileWrap"><H4>PREVIEW PANE</H4>
     <DIV id="textilePreview"></DIV>
     </DIV>
     </DIV>
  </DIV></FORM></DIV>
  



        </DIV> 

</DIV>



</DIV>





</BODY></HTML>