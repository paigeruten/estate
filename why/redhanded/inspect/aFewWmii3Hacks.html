<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0089)redhanded.hobix.com/inspect/aFewWmii3Hacks.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/inspect/aFewWmii3Hacks.html">--><BASE href=".">


<TITLE>RedHanded » A Few Wmii-3 Hacks</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">A Few Wmii-3 Hacks
  <SPAN class="entryPermalink"><A href="../inspect/aFewWmii3Hacks.html" title="Permanent link to &ldquo;A Few Wmii-3 Hacks&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../inspect" title="List of entries in the &ldquo;inspect&rdquo; category">inspect</A>
</DIV>

     <DIV class="entryContent"><BLOCKQUOTE>
		<P><A href="http://eigenclass.org/hiki.rb?scripting+wmii+with+ruby">mfp</A>: I guess this makes me a weirdo (maybe even more so amongst Rubyists, which would often kill for a Mac — their third or fourth one) but I much prefer this to Exposé+Dock+Dashboard and all that eye candy (not that I’ve used it that much, but more than it took me to like wmii — maybe the learning curve is too steep? :-P).</P>
	</BLOCKQUOTE>


	<P>I’m all hot in the collar over this as well.  Totally lovestruck. They took all the right cues from Plan 9.  I’ve been enjoying Mauricio’s script.  Here’s a couple minor hacks.</P>


	<P><STRONG><SPAN class="caps">PLEASE NOTE</SPAN>:</STRONG> Mauricio’s hacks (and mine) only work with the stable <A href="http://wmii.de/">wmii-3</A> just released.</P>


	<P style="text-align:center;"><A href="../images/wmii-3-june-large.png"><IMG src="../images/wmii-3-june.png" title="Mmmnn. Tailing in default mode." alt="Mmmnn. Tailing in default mode."></A></P>


	<H2>Resizing Hotkeys</H2>


	<P>I don’t ever swap two windows.  So I used those hotkeys for pushing the edges of a window wider.  For example, <CODE>Alt+Control+k</CODE> adds 48 pixels to the right side of a window.  Now, if that window is up against the right-hand side of the screen, this’ll have no affect.</P>


<PRE>  on_key("#{MODKEY}-Control-#{UP}") { 
    write "/view/sel/sel/geom", "+0 -48 +0 +48" }
  on_key("#{MODKEY}-Control-#{DOWN}") { 
    write "/view/sel/sel/geom", "+0 +0 +0 +48" }
  on_key("#{MODKEY}-Control-#{RIGHT}") { 
    write "/view/sel/sel/geom", "+0 +0 +48 +0" }
  on_key("#{MODKEY}-Control-#{LEFT}") { 
    write "/view/sel/sel/geom", "-48 +0 +48 +0" }
</PRE>

	<H2>No Numbers</H2>


	<P style="float:right"><IMG src="../images/wmii-3-tags.png" style="padding-left:10px;;" title="Tags correspond to Alt+num" alt="Tags correspond to Alt+num"></P>


	<P>I don’t use the numeric tags.  I use about ten verbose tags regularly and wmii-3 displays them in order in the bar.  So I use the numeric keys to tab quickly between them.  (<CODE>Alt+1</CODE> is the first tag, <CODE>Alt+2</CODE> is the second…)  I got this from Suraj N. Kurapati (who also posted his Ruby <A href="http://wmii.de/pipermail/wmii/2006-June/002035.html">wmiirc</A>.</P>


	<P>I’ve also added <CODE>Alt+Shift+num</CODE> which adds the tag at <CODE>num</CODE> position to the current window’s set of tags.  And <CODE>Alt+Control+num</CODE> removes the tag at <CODE>num</CODE> position from the current window’s set.</P>


<PRE>  (0..9).each do |i|
    k = (i - 1) % 10
    on_key("#{MODKEY}-#{i}") do
       view(read('/tags').split[k] || i)
    end
    on_key("#{MODKEY}-Shift-#{i}") do
      key = read('/tags').split[k] || i
      oldtags = read("/view/sel/sel/tags").split(/\+/)
      write "/view/sel/sel/tags", (oldtags + [key]).uniq.join("+")
    end
    on_key("#{MODKEY}-Control-#{i}") do
      key = read('/tags').split[k] || i
      oldtags = read("/view/sel/sel/tags").split(/\+/)
      write "/view/sel/sel/tags", (oldtags - [key]).uniq.join("+")
    end
  end
</PRE>

	<H2>Action Commands</H2>


	<P>Mauricio lets you setup some commands in your Ruby script which you can get to from the menu.  For example, <CODE>Alt+a google</CODE> launches a search in your browser using the current cursor selection as the search terms.  I’ve just extended this a bit by allowing the search terms right on the bar.  So: <CODE>Alt+a google houyhnhnms</CODE>.</P>


<PRE>  on_key("#{MODKEY}-a") do
    internal_actions = {
      "browser" =&gt; lambda do |selection|
        selection ||= `wmiipsel`.strip
        case browser = ENV["BROWSER"]
        when nil: system "/etc/alternatives/x-www-browser '#{selection}' &amp;" 
        else system "#{browser} '#{selection}' &amp;" 
        end
      end,
      "google" =&gt; lambda do |*selection|
        require 'cgi'
        if selection
          selection = CGI.escape(selection.join(" "))
        else
          selection = CGI.escape(%!"#{`wmiipsel`.strip}"!)
        end
        url = "http://www.google.com/search?q=#{selection}" 
        case browser = ENV["BROWSER"]
        when nil: system "/etc/alternatives/x-www-browser '#{url}' &amp;" 
        else system "#{browser} '#{url}' &amp;" 
        end
      end
    }
    wmiimenu((action_list + internal_actions.keys).sort) do |choice|
      if internal_actions[choice]
        internal_actions[choice].call
      else
        choices = choice.split(/\s+/)
        if internal_actions[choices.first]
          internal_actions[choices.shift].call(*choices)
        end
        system("$HOME/.wmii-3/#{choice} &amp;") if /^\s*$/ !~ choice
      end
    end
  end
</PRE>

	<P>For some other shell snippets: <A href="http://wmii.de/index.php?page=snippets">snippets</A>.  And, for more about tagging: <A href="http://wmii.de/index.php?page=tagging">tagging</A>.</P></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>09:47</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    23 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3> </H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>12:00</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I don’t get it. Is Wmii a very basic but exceptionally scriptable window manager, and these are customified ruby scripts for making it dance a productive jig?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>jubo</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>12:46</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>why, you are making me nostalgic for my wmii.  Although I am enjoying expose on my macbook =)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>sleeper</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>13:23</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>wmii-3 definitively rocks … althugh a little bit slow on Cygwin.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>mfp</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>13:37</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Do you often use floating windows? (I’m in managed mode 97% of the time).</P>


	<P>I’ve been thinking about numeric tags for a while; my problem is that I have too many tags to use  ALT +NUM effectively <DEL>-</DEL> counting takes too much time. Some views are fairly static and I’ve just learned that 2 = browser, 3 = mail, etc. I’ve tried to change the labels in the bar to have the num along the tag, but wmii removes it as soon as you add/remove a tag. (I read that this has been externalized in the devel version, so it’d do nicely there).
My bar looks like this atm.: <A href="http://eigenclass.org/misc/wmiibar.png"><IMG src="../images/wmiibar-small.png" alt=""></A></P>


A few other things I’m quite fond of: 
	<UL>
	<LI>namespaces&amp;quick switching between tags within a namespace</LI>
		<LI>retag&amp;jump to new tag</LI>
	</UL>


	<P>I also have a basic  IXP  extension more or less working.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>technomancy</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>15:08</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>That’s a funny coincidence; I chose today to switch over to stumpwm, a WM written entirely in Common Lisp. If your window manager doesn’t have a  REPL , that’s weak sauce!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Amr</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>18:29</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I think I’ll keep my 8-1/2 thank you.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>JonBro</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Jun 2006</NOBR> at <NOBR>20:26</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I use a mac (quite happily) and I find that using <A href="http://quicksilver.blacktree.com/">quicksilver</A> triggers (both mouse and keyboard) I am able to accomplish all of my highly trafficked gui navigation pathways.</P>


	<P>I stopped using expose shortly after getting the mac, too much graphics, not enough response. It would be nice to have something like quicksilver more tightly integrated however.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>zimbatm</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Jun 2006</NOBR> at <NOBR>16:57</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Enhanced client tagging ; `+tag` appends tag, `-tag` removes tag, `tag` sets the tag :</P>


<PRE>  on_key("#{MODKEY}-Shift-t") do
    old_tags = read('/view/sel/sel/tags').split(/\+/)
    wmiimenu(read("/tags")) do |new_tag|
      write '/view/sel/sel/tags', case new_tag
      when /^\+/ : old_tags.push(new_tag.sub(/^\+/,'')).join('+')
      when /^-/  : old_tags.reject{|t| t == new_tag.sub(/^-/,'')}.join('+')
      when /^$/  : old_tags.join('+')
      else; new_tag; end
    end
  end
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>SergeantCircles</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Jun 2006</NOBR> at <NOBR>21:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>This is pretty ugly, but it emulates ion’s fullscreen functionality.</P>


	<P>Hit Mod-f to make the current window fullscreen. Hit it again to go back to where you were.</P>


<PRE><CODE>
  on_key("#{MODKEY}-f") do
      oldtags = read("/view/sel/sel/tags").split(/\+/)
      if oldtags.include? "buffer" 
          write "/view/sel/sel/tags", (oldtags - ["buffer"]).uniq.join("+")
          view(oldtags.first)
      else
          current = read("/view/name")
          oldtags = [current] + (oldtags - [current]) # stick the current tag on the beginning, for later retrieval
          write "/view/sel/sel/tags", (oldtags + ["buffer"]).uniq.join("+")
          view("buffer")
      end
  end
</CODE>
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Gh0sted</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>16 Jun 2006</NOBR> at <NOBR>09:55</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Please share your color scheme? I like it very much!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Tom</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>16 Jun 2006</NOBR> at <NOBR>11:41</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I am in the middle of a re-write of this Ruby script to make it modular and add many new helper methods to make things-<DEL>especially bar-handling</DEL>-much easier. I am using  WMII -3 full time  BECAUSE  of this script!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>16 Jun 2006</NOBR> at <NOBR>12:34</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>Ghosted</STRONG>:</P>


<PRE> WMII_SELCOLORS='#FFFFFF #248047 #147027'
 WMII_NORMCOLORS='#4D4E4F #DDDDAA #FFFFCC'
 WMII_FONT='-artwiz-glispbold-*-*-*-*-*-*-*-*-*-*-*-*'
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Gh0sted</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>16 Jun 2006</NOBR> at <NOBR>23:01</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Thanks! :)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>TheCowGod</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>17 Jun 2006</NOBR> at <NOBR>06:22</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’ve been playing with this for a few days myself. I’m using mfp’s script with _why’s changes, and I’m quite happy with it. Now, I’m trying to figure out how to emulate something similar to Windows’ Startup folder—automatically starting up a few programs in their appropriate views when <CODE>wmii</CODE> is first loaded. For example, when I first log in, I always open up two  SSH  sessions to my home server to run pine and <A href="http://ojnk.sourceforge.net/">pork</A>. So here’s what I’ve got so far:</P>


<PRE><CODE>
personal_view_name = 'personal'
if read("/tags").grep(/^#{personal_view_name}$/).size == 0
   real_rules = read "/def/rules" 
   write "/def/rules", "/.*/ -&gt; #{personal_view_name}\n" 
   system "/etc/alternatives/x-terminal-emulator -e /usr/bin/ssh username@myserver.net &amp;" 
   system "/etc/alternatives/x-terminal-emulator -e /usr/bin/ssh username@myserver.net &amp;" 
   write "/def/rules", real_rules
end
</CODE>
</PRE>

	<P>(Note: I’m relatively new to Ruby and haven’t yet picked up the coding style—if there’s a better, shorter, or more fun way to code the above, please feel free to share.)</P>


	<P>Anyway, the problem, of course, is that this code comes <STRONG>before</STRONG> the call to <CODE>reactor.main_loop</CODE>, so by the time <CODE>wmii</CODE> gets around to spotting the new clients, the stock <CODE>/def/rules</CODE> file is back in place, and the clients get opened up in the current view.</P>


	<P>Does anyone have any ideas? Perhaps a way to “hand-crank” the loop for one iteration to get it to handle the newly-created clients?</P>


	<P>Maybe this would be better discussed on the wmii mailing list.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>TheCowGod</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>17 Jun 2006</NOBR> at <NOBR>07:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>OK, it turns out that <CODE>konsole</CODE> (which I’m using as my shell) lets you set a window title with -T, so I can give it a particular title and use regular rules to catch it. I’d still like to figure out how to launch a program with a particular tag in general, though.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>mfp</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>17 Jun 2006</NOBR> at <NOBR>14:11</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I have an  IXP  extension (it’s around 5 times faster than calling wmiir) &amp; an improved script. Coming soon.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>technomancy</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>20 Jun 2006</NOBR> at <NOBR>20:23</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’ve got a wmii control script in elisp with emacs-ish key bindings, if anyone is into that sort of thing. (Sorry, not ruby-related.)</P>


	<P>http://dev.technomancy.us/phil/browser/dotfiles/.emacs.d/wmii.el</P>


	<P>Thanks for the tip, _why. I’ve ditched the whole CL window manager, and wmii-3 makes me gleeful.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>mfp</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>21 Jun 2006</NOBR> at <NOBR>04:05</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>New, <A href="http://eigenclass.org/hiki.rb?ruby-wmii+0.2.1">much improved version available</A></P>


	<P>Features the  TOTALLY OVERDONE ADVANCED WORKING SET AUTODISCOVERY MAGIC !!! :-))</P>


	<P>technomancy: as for running programs in a given view at startup -&gt; wmii will retag them, no matter whether the main_loop is running or not. You can just set a default rule </P><PRE>/.*/ -&gt; mytag</PRE> sleep for a second or two, and then set the actual rules.<P></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>sleeper</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>21 Jun 2006</NOBR> at <NOBR>12:57</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>mfp: Please do not hesitate to post your  IXP  bindings, even if you think it’s not perfect (although I’m sure it is!)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>mfp</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>22 Jun 2006</NOBR> at <NOBR>15:15</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Alright, my wmiirc is running using  IXP .so right now.
I’ll be testing it for a while before the release.</P>


	<P>Just a couple figures to summarize the difference: the response time for  ALT +j has gone from 0.06 seconds to about 0.0015s, a 40X speedup (the standard deviation seems very small, but I haven’t measured it precisely yet). View switching is sub-millisecond (around 0.2ms on my box).</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>sleeper</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>23 Jun 2006</NOBR> at <NOBR>08:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’m interested in testing it under Cygwin, as it seems that process fork is quite long under Cygwin, and thus spawning a wmiir each time  is quite heavy ;)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>mfp</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>26 Jun 2006</NOBR> at <NOBR>04:49</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I had some problems with rb_thread_select and rewrote part of libixp to use Ruby’s socket extension.
Unfortunately I’m running into some weird crashes (deadlocks), so I’ll need some more time.</P>


	<P>Meanwhile, I’ve been working on a new configuration scheme which allows for easy distribution of plugins and simpler upgrades that preserve your settings. ruby-wmii 0.3.0 should be out in short.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>levity</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>29 Jun 2006</NOBR> at <NOBR>12:28</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>sweetness! this is a totally unexpected way for me to learn ruby, as well as a relatively easy way to add some features i’ve been wanting in wmii.</P>


	<P>although i do want to point out that the font in your screenshot is “fixed”, not “glispbold”, so maybe your font config is messed up?</P></DIV></DIV>
</DIV>


<DIV class="entry">
<FORM name="userComment" method="post" action="/api/comment/inspect/aFewWmii3Hacks">
  <DIV class="entryAttrib">
     <DIV class="entryAuthor"><INPUT name="sayor" type="textbox" size="15" maxlength="50"></DIV>
     <DIV id="liveTime" class="entryTime"><NOBR>12 Jul 2010</NOBR> at <NOBR>22:15</NOBR></DIV>
  </DIV>
  <DIV class="entryContentOuter"><DIV class="entryContent">
     <INPUT type="hidden" name="timestamp" value="yopYLare1A">
     <TEXTAREA name="consay" rows="6" cols="50"></TEXTAREA>
     <P><INPUT type="button" name="pleasePreview" value="preview" onclick="liveTextilePreview(document.forms[&#39;userComment&#39;].elements[&#39;consay&#39;], &#39;textilePreview&#39;, &#39;/api/preview&#39;)">
        <INPUT type="submit" name="submit" value="&gt;&gt;">
        <SMALL>* do <A href="../javascript:quickRedReference();">fancy stuff</A> in your comment.</SMALL>
     </P>
     <DIV id="textileWrap"><H4>PREVIEW PANE</H4>
     <DIV id="textilePreview"></DIV>
     </DIV>
     </DIV>
  </DIV></FORM></DIV>
  



        </DIV> 

</DIV>



</DIV>





</BODY></HTML>