<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0101)redhanded.hobix.com/inspect/redclothPortedToJavascript.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/inspect/redclothPortedToJavascript.html">--><BASE href=".">


<TITLE>RedHanded » RedCloth Ported to JavaScript</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">RedCloth Ported to JavaScript
  <SPAN class="entryPermalink"><A href="../inspect/redclothPortedToJavascript.html" title="Permanent link to &ldquo;RedCloth Ported to JavaScript&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../inspect" title="List of entries in the &ldquo;inspect&rdquo; category">inspect</A>
</DIV>

     <DIV class="entryContent"><P><A href="http://static.serversidewiki.com/javascripts/textile.js">Observe.</A>    His library is 16k and mine is 35k.  Written for use in the <A href="http://serversidewiki.com/">ServerSideWiki</A>, but obviously useful in any kind of web context.</P>


	<P>I wonder, my little redlings: if a blog served up pages of only textile and a transformation script, would the pages loose semantic value?  Is that a step backwards or does it matter?  Please: practically speaking.</P></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>09:44</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    14 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>samuel</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>10:22</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I think it’s a bad idea to rely completely on js for something as fundamental as displaying page content. But I guess it would be great as a tool for live previewing of Textile content without resorting to ajax and serverside rendering – at least that’s what I would use it for…</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>10:35</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Yeah, indeed—why, have you considered using it for RedHanded comment previews?</P>

	<P>As regards semantic value, it shouldn’t lose much in principle.  Textile gives you all the basic  HTML  tags (plus  CSS  classes!), which is about all the structure you’ll get in  HTML  anyway.</P>

	<P>In practice, though?  There just aren’t the sort of tools out there for interpreting/transforming Textile like there are for  HTML . SAX  for Textile?  No.</P>

	<P>Pretty much it would end up in the same camp as those Javascript  HTML  compressors/encryptors which peaked around the turn of the century, albeit perhaps a little less evil.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Careo</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>10:36</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’d have to say it loses semantic value.</P>

	<P>If the content is all in textile, what would happen to spiders, screen readers, or other parsers that rely on well-structured  HTML  to make sense of a document?</P>

	<P>For instance, I don’t think Google would evaluate the javascript on the page to turn the textile into  HTML  before indexing it.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>10:37</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Well, no, I take that back.  The one important bit of semantic structure that Textile costs you is nesting.  Correct me if I’m wrong, but Textile doesn’t really provide a way of nesting divs or block-level elements, does it?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Robert Hahn</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>11:30</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>My first thought was to agree with Careo, but upon some reflection, I’m beginning to think that while it does lose <STRONG>semantic</STRONG> value, it doesn’t matter.  Well, it depends on how this is implemented, and I couldn’t figure it out in the scant seconds I spent looking at the code and page.</P>

	<P>Anyway.</P>

	<P>How well this would work all depends on where the text is stored. If the text is stored in a JS variable, then I would want to assume that it’s probably hidden from Google, or is otherwise not worth that much.  On the other hand, if it’s stored in a valid  html document, wrapped with a pre tag, and was somehow, through
 DOM  manipulations, re-rendered, then Google has a very good chance of working with
the text.  As far as the semantic value of that text goes, it doesn’t, imho, affect page rankings at all that much.  H1 and B tags do help, no question, so obviously you’d have to decide whether the tradeoff is worth it.</P>

	<P>If enough people think it <STRONG>is</STRONG> worth it, then I’d bet Google’s staff would tweak their engine to more intelligently parse textiled text.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Josh Goebel</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>12:41</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>why, it’s not a full port [yet]... and of course it’s only textile (not markdown)... but the parts that aren’t their yet mostly involve handling
 HTML  tags and stuff… if you’re just writing raw textile with some simple
html, you’re probably good to go… oh, and I haven’t gotten to tables yet…</P>

	<P>And the reason I wrote it was to preserve the speed of client-side rendering already present in TiddlyWiki (which the client of ServerSideWiki is based upon)... there is a  HUGE  speed difference between an app like ServerSideWiki and Backpack on dial-up… running back and forth to the server just to render some content is very slow, especially if I’m using the connection for something else.</P>

	<P>I know dial-up isn’t in style these days, but some of us are stuck with it and just tring to make the best of it. :-)</P>

	<P>Currently the library has some Tiddly specific stuff (Wiki links and stuff) but it should be easy enough to rip out for general use.</P>

	<P>And yes, raw Textile would lose some semantics… but Google seems to index and find ServerSideWiki pages just fine…</P>

	<P>Josh w/ServerSideWiki</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Josh Goebel</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>12:43</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Of course you still have to run back and forth to the server on saves… but returning “save ok” is a lot faster than shipping back  HTML  for even a moderately sized text sample… plus with client-side you can render while doing the save in the background… instead of waiting for the save to complete before you know what to render.  That’s where the big speed increase is.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>14:14</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>Josh:</STRONG> the rationale behind the library makes great sense and I’m hoping to have it working on comment preview here in a short time.  Well done, good to know Google ingests it all okay.</P>

	<P>The semantic question definitely wasn’t a criticism of the Javascript port.
 More just: isn’t it crazy that  HTML ’s semantics are tied to the markup
and the scripting often acts to subvert that?  I wish it were contrary, that the scripting would often work to improve the semantics.  But this is impossible without a Javascript interpreter built into search robots, text browsers, portables, etc.  Maybe someday embedding an interpreter in these cases will be as natural as embedding the rendering engine.  But, for now, it’s strange and difficult I guess.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>12 Aug 2005</NOBR> at <NOBR>18:07</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>why</STRONG>: I dunno… issues of  CPU  usage and security aside, having to go through Javascript to get the content brings turing-completeness into the picture, with all the analytical problems that entails.</P>

	<P>There’s basically a tradeoff between the expressivity of the data format and the depth of analysis that can be performed on it.</P>

	<P>F’r example, say we want to determine whether or not a particular document (after Javascript transformations) is valid according to some schema.  Or even just contains some keyword or another.</P>

	<P>Well, what if the attached script never finishes to give us a result we can check?
 We call that an invalid document, ok.</P>


	<P>But… how do we distinguish that from a document (program now, really) that just takes a while to produce a valid result?  How long do we wait?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Fredrik</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>13 Aug 2005</NOBR> at <NOBR>14:15</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’ve worked quite a bit on web spiders, and i would be surprised if the Google spider didn’t include a javascript interpreter. There is simply too much content you can’t get to without javascript. Integrating a js interpreter in the spider we use certainly wasn’t very hard, although it’s a bit of a hack right now.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>hgs</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Aug 2005</NOBR> at <NOBR>04:47</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I like the reasons for doing this, and I like the possibilities that could result which I can’t forsee: that is, I think it is good that attempts are made to break the mould, giving more scope for creativity.</P>

	<P>However, I have some reservations:  Firstly, I often turn Javascript off, as it is frequently cited as a security hole, so I err on the side of caution.  Secondly, does this really give more of a speedup than enabling compression (which is part of <A href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.3">HTTP as standard</A> and few sites actually implement)?</P>

	<P>Accessibility and the widest possible browser compatibility are also issues, but others have addressed these already.</P>

	<P>It might be that compression is insufficient on its own, or that you aren’t supporting it yet and could benefit from it, as well.</P>

	<P>In the hope that this provides useful stimulation :-)...</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Gavin</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>16 Aug 2005</NOBR> at <NOBR>17:23</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I think the pages would tighten semantic value, not loosen them.   BTW , you incorrectly wrote “loose them”.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>zimbatm</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>19 Aug 2005</NOBR> at <NOBR>01:30</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>why, it’s important, like every implementation of ajax you see these days, to provide a standard  HTTP  alternative to the non-javascript users.</P>

	<P>Apart of that, having a page, where I could be able to select any text block, which could be replaced into a textile editor by a simple way (double-click). After clicking on save, after the async server response says ok, the editor would automatically change back into html with my changes highlighted . It would be really nice :)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>victor</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>03 Mar 2006</NOBR> at <NOBR>15:41</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’ll use it to display locally (for offline browsing purposes) the export.xml file that backpackit.com accounts can export. I guess it makes sense in this context, because there’s no possibility for server scripting taking care of the (textilized) data the export.xml file already contains.</P></DIV></DIV>
</DIV>


  <DIV class="entry">
    <P><SMALL>Comments are closed for this entry.</SMALL></P>
  



        </DIV> 

</DIV>



</DIV>





</DIV></BODY></HTML>