<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0086)redhanded.hobix.com/inspect/objectBlank.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/inspect/objectBlank.html">--><BASE href=".">


<TITLE>RedHanded » Object#blank?</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">Object#blank?
  <SPAN class="entryPermalink"><A href="../inspect/objectBlank.html" title="Permanent link to &ldquo;Object#blank?&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../inspect" title="List of entries in the &ldquo;inspect&rdquo; category">inspect</A>
</DIV>

     <DIV class="entryContent"><P>So, I’d like to submit <CODE>Object#blank?</CODE> as an <SPAN class="caps">RCR</SPAN>.  I use this code in nearly all of my web application projects.</P>


<PRE> class Object
   def blank?
     if respond_to? :empty?
       empty?
     elsif respond_to? :zero?
       zero?
     else
       !self
     end
   end
 end
</PRE>

	<P>This has been begging for addition into Ruby for years.  A bit of background:</P>


	<UL>
	<LI><STRONG>2000:</STRONG> Jim Menard suggests <A href="../ruby-talk/7484-8460/7684">nil.empty?</A>.</LI>
		<LI><STRONG>2002:</STRONG> Dave Thomas starts to further work up <A href="../ruby-talk/43611-44681/43795">nil.empty?</A>.  Opposition brews.  (Note that the possibility of <CODE>nil</CODE> becoming an Enumerable is kicked around!)</LI>
		<LI><STRONG>2004:</STRONG> <A href="../ruby-talk/100526-109991/100653">Zero is true … whoda thunk?</A> thread delves in and out of the character of <CODE>nil</CODE>, <CODE>0</CODE>, <CODE>""</CODE> and so on.  However, the discussion really revolves around whether zero could be treated as false in a future Ruby incarnation.</LI>
		<LI><STRONG>2005:</STRONG> Just last month, Dan Fitzpatrick <A href="../ruby-talk/131829-132674/132036">revisited the same nil.empty?</A> pitch we’ve seen in years past.</LI>
	</UL>


	<P>In all, the two major points of backlash have been:</P>


	<OL>
	<LI>Naming the thing.  Some feel that <CODE>empty?</CODE> implies a container.  A container which isn’t there for <CODE>nil</CODE> and <CODE>0</CODE>.  Another suggestion was <CODE>vapid?</CODE> but, uh, no.</LI>
		<LI>That there is no case in which <CODE>0</CODE> should be grouped with <CODE>nil</CODE> and <CODE>""</CODE>.  I suppose many people are more commonly looking for <CODE>"0"</CODE> to belong to this group as well.  Which means you have to use <CODE>.to_i.zero?</CODE>.  Very similar to <CODE>.to_s.empty?</CODE>.</LI>
	</OL>


	<P>I’m thinking <CODE>Object#blank?</CODE> is a good solution.  The name doesn’t imply a container.  It implies valuelessness, which is what we are testing for.</P>


	<P>This reduces the common case of:</P>


<PRE> if venue['neighborhood'].to_s.empty?
</PRE>

	<P>To:</P>


<PRE> if venue['neighborhood'].blank?
</PRE>

	<P>I’ve grouped <CODE>0</CODE> in there as well.  It’s useful for <SPAN class="caps">YAML</SPAN>.  Since <SPAN class="caps">YAML</SPAN> loads types naturally, you rarely run into a string like <CODE>"0"</CODE>.  And since I’m calling <CODE>zero?</CODE>, it works for floats as well.</P>


	<P>Given this <SPAN class="caps">YAML</SPAN> invoice:</P>


<PRE> sku:   BSK115
 price: 15.60
 tax:   0.00
 total: 15.60
</PRE>

	<P>I can easily check the <CODE>tax</CODE>, covering the case in which the <CODE>tax</CODE> is completely left out.</P>


<PRE> print "Tax-free" if invoice['tax'].blank?
</PRE>

	<P>So, what do you think?  Worthwhile <SPAN class="caps">RCR</SPAN>?  Am I off on the name?  Has our time come for this at last?</P>


<DIV class="update">

	<P>I’ve just submitted this proposal as <A href="http://rcrchive.net/rcr/show/295">RCR 295</A>, which also weighs the possibility of a <CODE>to_b</CODE> conversion.  This may kill the <SPAN class="caps">RCR</SPAN>, but I’d like to vote and ultimately find the best solution.  I still prefer <CODE>Object#blank?</CODE>.  But either is a move ahead.</P>


</DIV></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>11:31</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    31 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>12:17</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>blank? is the best name I’ve heard for this thus far.  I still have mixed feelings about 0 being considered “blank”—although that is an issue with the name, not with the functionality.</P>


	<P>This precise functionality is very, very needed.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Not Joel Siegel</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>12:39</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I also like blank?.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Dan</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>15:13</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I like the concept, but I’m iffy about the name. What about null? nothing? void? ziltch? vacuous?</P>


	<P>Or, along the lines of ring thoery: annihilator? :)</P>


	<P>Ok, just kidding, blank? is actually pretty good.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Jordan</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>15:20</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I think <CODE>nada?</CODE> covers all the bases, even 0.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Kevin</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>20:33</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>How about </P><PRE>nix?</PRE><P></P>


	<P>Actually, the one that makes the most sense to me is </P><PRE>none?</PRE><P></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Fletch</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>20:35</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>How about a Zen <CODE>mu?</CODE> for detecting when there’s no answer?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>21:21</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>You monkeys.  Give me back my chapstick.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>stig</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>04 Mar 2005</NOBR> at <NOBR>23:40</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Only zeroes are monkeyproof. monkeyproof?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Csaba</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>00:54</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>There has been an initiative of <CODE>to_b</CODE>. I pretty much 
liked that because its succint, mixes nicely with the existing <CODE>to_*</CODE> method army and deadly precise: what you want from the damned object is nothing else, just to spit out a Boolean value. No more hype please, come out and speak up which side you take! Pretty apocalyptic, eh?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Bruce</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>06:33</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>But doesn’t isn’t <CODE>0.to_b</CODE> dangerously close to the <CODE>!0</CODE> debate?  I think <CODE>blank?</CODE>’s main benefit is the fact that it <EM>sounds fuzzier</EM>. Does that make any sense?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Robert</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>08:53</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>What’s wrong with <CODE>.blank?</CODE> ? Love it.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Zero</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:20</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I am blank.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>EmptyString</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:20</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So am I!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>EmptyArray</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:20</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Me too!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>ZeroPointZero</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:21</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’m completely blank.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’m with Bruce.  I don’t really want to see methods that switch the polarity of <CODE>0</CODE> or <CODE>""</CODE>.</P>


	<P>I just want every class to have a test for their most nominal value.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>False</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:31</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’m not blank, honest!  (heh heh heh)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>SetOfBlankThings</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:33</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>False, I know you’re lying, as usual.  The rest of you kids, pipe down and listen to Mister Why.</P>


	<P>So let’s see, who do we have?</P>


<PRE>0
0.0
"" 
[]
{}
false
&lt;/p&gt;

Am I forgetting anybody?  Hands up if I forgot to count you.

Oh yeah, "nil".  Well, I suppose it's no surprise you didn't pipe up.

Did I leave anybody else out?</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Merc</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>13:47</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Hmm, that SetOfBlankThings shoudl really hit the Preview button before posting.  <STRONG>ahem</STRONG></P>


	<P>Anyhow.  I like it.  I think there’s a need for, as _why calls it, the “most nominal value”.  I know it’s context-dependent.  Sometimes zero is meaningful.  Sometimes an empty string is a response.  There are just enough cases where 0, nil, and an empty string are all “no response” or “not applicable”.  It would be nice to have a test that everything responds to that catches this case.</P>


	<P>As for <CODE>to_b</CODE>, I’ve never understood why that doesn’t exist.  It would be different if the language didn’t depend on boolean values, but it does.</P>


<PRE>if [########]
  puts "It's true" 
else
  puts "It's false" 
end
</PRE>

	<P>Obviously, the language already has a “to_b” conversion it’s doing.  Whatever is in that blanked-out area is evaluating to either true or false.</P>


	<P>If <CODE>false</CODE> and <CODE>nil</CODE> returned <CODE>false</CODE> for <CODE>to_b</CODE> and everything else returned <CODE>true</CODE>, that would match what the language is doing internally.</P>


	<P>I don’t see the downside to adding a <CODE>to_b</CODE> method to Object… on the other hand, at the moment I can’t remember when I needed it either.  It juse seems to be missing.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Lucas C.</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>15:04</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>http://dev.rubyonrails.org/ticket/783</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Mark</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>15:44</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>What about Files, Dirs, and Ranges?</P>


	<P>Blank for size  0 <BR>
and<BR>
Blank for seek(0,IO::SEEK_END); pos  0</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Peter T.</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>19:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Sorry to rain on the parade, but I don’t like <CODE>0.blank? == true</CODE></P>


	<P>As a CS guy, it just feels wrong to me to call 0 “blank”. I prefer the to_b approach: just like to_s asks for a string representation, to_b asks the object to represent itself as either true or false. Whether Fixnum chooses to return false for the valuation 0 is then a matter of convention, and not one of linguistics like with some of the other choices.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Daniel Berger</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>20:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Gosh, maybe if we’d had a Boolean class we could have subclassed it years ago to solve our needs.  But  NOOOOOOOO , someone insists on being stubborn.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>21:09</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Well, it sounds like there’s two ideas here.  One group wants to cast these values as false—which is reasonable, citing <CODE>0.to_a</CODE> and other fuzzy conversions.  The other clan wants a fuzzy conditional—reasonable considering the back history of question methods in Ruby.</P>


	<P>It may be worthwhile to have both, but we clearly need at least one.  This is a common snag.</P>


	<P>I guess it boils down to: when a n00b on ruby-talk says, “Why does 0 evaluate to true in an if-statement?”—which of these alternatives are you most happy with presenting?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Daniel Berger</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Mar 2005</NOBR> at <NOBR>21:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>You’re thinking too locally, why.  Imagine if we have a Boolean class.  That class has two methods: true and false (which would be declared as global methods to keep the familiar syntax).  Conditionals would then be based on how those methods are defined.</P>


So, current behavior:
<PRE>if venue['neighborhood'].to_s.empty?
</PRE>
Your proposed behavior:
<PRE>if venue['neighborhood'].blank?
</PRE>
My proposed behavior:
<PRE>class Boolean
   def false
      nil or "" or 0
   end
end

# false if empty or 0
if venue['neighborhood'] 
</PRE>
Then, instead of having to call .empty? on every individual object, you set it once, globally.</DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Pit Capitain</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Mar 2005</NOBR> at <NOBR>00:22</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>The value of 0.blank? is totally dependent upon the <STRONG>application logic</STRONG>, just like your  YAML  invoice example shows. I don’t like this being in the Ruby language at all.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Kevin</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Mar 2005</NOBR> at <NOBR>11:49</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’d like to see Ruby add <B>true?</B> and <B>false?</B> methods rather than a <B>to_b</B> method.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>CMO</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Mar 2005</NOBR> at <NOBR>12:14</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><EM>what about <B>zero?</B></EM></P>


	<P>string.zero? (is it zero in length)</P>


	<P>num.zero? (does it equal zero)</P>


	<P>obj.zero? (does it reference address zero … do we have such an address in the heap…)</P>


	<P>list.zero? (how many elements are there, zero? )</P>


	<P><STRONG>DO</STRONG> not consider it, it is just a <STRONG>joke!</STRONG></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Jason Watkins</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Mar 2005</NOBR> at <NOBR>15:13</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>BergerProposal++</P>


	<P>People shouldn’t lambast the convention of 0 = false. It’s more than just a c compatability. Do a google for “Iverson Convention.” It’s common usage in math, and is particularly convenient in expressing summations dependant on some predicate:</P>


	<P>x = Sigma_i[P(i)*F(i)]</P>


	<P>The only contexts I can think of where zero should return true are probibly better expressed by explicit referenc to an exists? or defined? method.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Mark</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Mar 2005</NOBR> at <NOBR>19:21</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Jason: Leaving aside my own views on it, I think it’s highly unlikely that “zero as true” is going to change. Too many people, not the least of whom is the language designer, like it that way. So it’s probably better to focus on something that has a chance of changing.</P>


	<P>I particularly liked one of the messages in the “whoda thunk?” thread: <A href="http://ruby-talk.org/cgi-bin/scat.rb/ruby/ruby-talk/100810">ruby-talk:100810</A>. The poster considers “zero as true” to be a “Licorice Test” for Ruby; either you love it or you hate it. I think this particular flavor is rather fundamental to Ruby being Ruby, it’s right up there with “Everything’s an object”</P>


	<P>You could say: “All answers are true except the non-answer (<CODE>nil</CODE>), and <CODE>true</CODE> and <CODE>false</CODE> are their representatives.”</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Mar 2005</NOBR> at <NOBR>00:55</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>This proposal is now <A href="http://rcrchive.net/rcr/show/295">RCR 295</A>.  Let’s get a formal vote.  Thanks for all your input.  This has been totally productive.</P></DIV></DIV>
</DIV>


  <DIV class="entry">
    <P><SMALL>Comments are closed for this entry.</SMALL></P>
  



        </DIV> 

</DIV>



</DIV>





</DIV></BODY></HTML>