<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0095)redhanded.hobix.com/inspect/okayGiveHpricot02AGo.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/inspect/okayGiveHpricot02AGo.html">--><BASE href=".">


<TITLE>RedHanded » Okay, Give Hpricot 0.2 a Go</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">Okay, Give Hpricot 0.2 a Go
  <SPAN class="entryPermalink"><A href="../inspect/okayGiveHpricot02AGo.html" title="Permanent link to &ldquo;Okay, Give Hpricot 0.2 a Go&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../inspect" title="List of entries in the &ldquo;inspect&rdquo; category">inspect</A>
</DIV>

     <DIV class="entryContent"><P>This time I’m giving a balloon out which can be used for quick testing.</P>


	<P style="font-size: 14pt;text-align:center;"><A href="http://balloon.hobix.com/hpricot">http://balloon.hobix.com/hpricot</A></P>


	<P>Or, if you want to install Hpricot 0.2:</P>


	<P style="text-align:center;"><CODE>gem install hpricot --source code.whytheluckystiff.net</CODE></P>


	<P>So the Hpricot parser is basically complete.  There’s still lots of fiddling ahead: it doesn’t handle Javascript whatsoever and it’s not yet as flexible as HTree.  However, it does fix alot of <SPAN class="caps">HTML</SPAN> that RubyfulSoup and the htmltools won’t.</P>


	<P>Here’s a benchmark parsing the Boing Boing home page fifty times.  It’s a good page to test because it’s big and there’s some bogus end tags and old-style tables and break tags.</P>


<PRE>                     user     system      total        real
 hpricot:       10.515625   0.000000  10.515625 ( 10.610571)
 scrapi:        32.546875   0.093750  32.640625 ( 32.923535)
 htree:         56.609375   0.023438  56.632812 ( 57.096530)
 rubyfulsoup:   29.289062   0.046875  29.335938 ( 29.586510)
 mechanize:(*) 148.132812   1.101562 149.234375 (150.621922)
 htmltok:(*)    19.632812   0.007812  19.640625 ( 19.795446)
</PRE>

	<P><SMALL> <CODE>(*)</CODE> These libs are a bit more primitive, focusing only on reading documents, no calls are given for modifying documents.</SMALL></P>


	<P>The mechanize benchmark parses and converts to a <SPAN class="caps">REXML</SPAN> document, since mechanize itself only gives you links, form elements, nothing complex.  So this may be unfair.</P>


	<P><DEL>I didn’t include <CODE>scrapi</CODE> because, although it parses the page, it fails some of my other tests.  For example, when using a selector to find all <CODE>p.posted</CODE> elements, I get back only one element with scrapi, when the others all report back sixty elements.  So, I’ll post a benchmark when I understand what I’m doing wrong.</DEL></P>


	<P class="update"><STRONG>Update:</STRONG> Thanks to assaf, I got scrapi working with libtidy and reporting back the right answers.  Thankya! <STRONG>Update #2:</STRONG> An htmltokenizer benchmark.</P></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>11:44</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    30 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Dan W</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>13:21</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Excellent work.  Who’s going to be the first to make a Ruby version of <A href="../inspect/pornolize">Pornolize</A> then?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>anon</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>13:38</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Sounds great, I’ll give it a try on http://news.bbc.co.uk – RubyfulSoup handles that <STRONG>so</STRONG> slowly last time I tried.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>netghost</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>13:46</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I don’t know what I’ll use it for… but I have a deep desire to play with this.  Much love for the JQuery style expresions!  They made me want to use JQuery… but I couldn’t figure out what I’d use it for.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>FlashHater</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>14:56</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>W00t! Balloon is truley usefull!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>serg</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>17:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So, it works if I pass in an IO object to Hpricot.parse (from either a file or a url, like the balloon).
It doesn’t work if I pass in a string (i.e., the name of the file to parse, like the example.)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>assaf</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>17:26</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>For scrapi, you’ll have to use Tidy for now. The non-tidy parser doesn’t deal with bad  HTML , which is why I’m looking for an alternative that can clean  HTML  well and fast.</P>


With today’s code drop you can do something like:
<PRE># Set it to use Tidy.
Scraper::Base.tidy_options({})

# Define a scraper.
boing_boing = Scraper.define do
  array :posts
  process "p.posted", :posts=&gt;:node
  result :posts
end

# Scrape away!
puts boing_boing.scrape(html).size
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>18:44</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>seg:</STRONG> Ohhh, you’re right.  That example was totally wrong!  <CODE>Hpricot.parse</CODE> takes an  HTML  string or an IO object containing  HTML .</P>


	<P><STRONG>assaf:</STRONG> Hurray, that works.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>josh</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>19:28</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Just to ask a really dumb question, but if I have an Element, how can I get the text found within the tag?</P>


	<P>Thanks for the library and sorry for the question.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Jul 2006</NOBR> at <NOBR>20:17</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>For now, you’ll need to loop through the <CODE>children</CODE> of the Element.  Some of those will be <CODE>Text</CODE> objects which have a <CODE>content</CODE> property containing the string.</P>


	<P>The next version will have an innerHTML property on every element.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Jerome</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>01:24</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Is there a reason there was no comparison with HTMLTokenizer?  Or is that because it’s not even in the same ballpark as the rest?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Hank</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>02:03</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent">Okay, for anyone else searching for some straight example code from the Hpricot posts, here’s some that works:
<PRE>wget http://redhanded.hobix.com/index.html
<CODE>
require 'rubygems'
require_gem 'hpricot'
require 'open-uri'
doc = Hpricot.parse(open("index.html"))
(doc/:p/:a).each do |link|
  p link.attributes
end
</CODE>
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>09:10</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>Jerome:</STRONG> Okay.  Htmltokenizer is pretty quick, but read-only.  But I’m really glad you mentioned this one, because I could offer access to the Hpricot tokenizer, which would speed things up by literally an order of magnitude.</P>


	<P>In fact, you can already get access to this by using <CODE>Hpricot.scan</CODE>.</P>


<PRE> doc = Hpricot.scan(open("index.html)) do |token|
   p token
 end
</PRE>

	<P>Which give you back:</P>


<PRE> [:doctype, "html", {"system_id"=&gt;"\"DTD/xhtml1-transitional.dtd\"", "publid_id"=&gt;"PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" 
"}, "&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"DTD/xhtml1-transitional.dtd\"&gt;"]
 [:text, "\n", nil, "\n"]
 [:stag, "html", {"xml:lang"=&gt;"en", "lang"=&gt;"en", "xmlns"=&gt;"http://www.w3.org/1999/xhtml"}, "&lt;html xmlns=\"http://www.w3.org/1999/xh
tml\" lang=\"en\" xml:lang=\"en\"&gt;"]
 [:text, "\n", nil, "\n"]
 [:stag, "head", nil, "&lt;head&gt;"]
 [:text, "\n", nil, "\n"]
 [:emptytag, "meta", {"content"=&gt;"text/html; charset=utf-8", "http-equiv"=&gt;"Content-Type"}, "&lt;meta http-equiv=\"Content-Type\" conte
nt=\"text/html; charset=utf-8\" /&gt;"]
 [:text, "\n", nil, "\n"]
 [:stag, "title", nil, "&lt;title&gt;"]
 [:text, "RedHanded &amp;raquo; sneaking Ruby through the system", nil, "RedHanded &amp;raquo; sneaking Ruby through the system"]
 [:etag, "title", nil, "&lt;/title&gt;"]
 [:text, "\n", nil, "\n"]
 [:emptytag, "link", {"href"=&gt;"http://redhanded.hobix.com/index.xml", "title"=&gt;"RSS", "rel"=&gt;"alternate", "type"=&gt;"application/rss+x
ml"}, "&lt;link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS\" href=\"http://redhanded.hobix.com/index.xml\" /&gt;"]
 [:text, "\n", nil, "\n"]
 ...
</PRE>

	<P>Basically: (1) a symbol describing the element type, (2) the tag name or text content, (3) an attributes hash, and (4) the raw string which formed this token.</P>


	<P>The scanning stage is easy.  It’s the figuring out the layout of the document and coercing wellformedness that’s the spiny one.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>12:13</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>anon:</STRONG> news.bbc.co.uk was broken (for me) in Hpricot 0.2, but it’s working in <A href="http://code.whytheluckystiff.net/svn/hpricot/trunk">trunk</A>.  So is McSweeney’s (awful  HTML .)  More, more, anymore really really bad  HTML  sites I can use?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>thomas</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>12:15</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Found a “bug”. The Scanner fails when it encounters 
<CODE>&amp;lt;!----&amp;gt;</CODE></P>


	<P>msg = “negative string size (or size too big) (ArgumentError)”</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>thomas</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>12:18</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>hey Preview shows something else than the actual Comment! Well anyways, the scanner fails when it encounters an empty  HTML  Comment. See if this is right <CODE>&lt;!----&gt;</CODE></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>12:31</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>thomas:</STRONG> That little oddity is fixed in trunk.  McSweeney’s has one of those suckers.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>thomas</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>12:44</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Tried trunk, didnt work.
@
svn co https://code.whytheluckystiff.net/svn/hpricot/trunk hpricot
cd hpricot
rake install</P>


	<P>“Successfully installed hpricot, version 0.2”</P>


	<P>require ‘rubygems’
require_gem ‘hpricot’, ”&gt;=0.2”</P>


	<P>doc = Hpricot.parse(”&lt;!<DEL>—</DEL>&gt;”)
@
Fails .. missing something?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>thomas</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>12:45</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>sorry these comments are killing me, I should  RTFM </P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>13:05</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Oh, do:</P>


<PRE> cd hpricot
 rake ragel
 rake install
</PRE>

	<P>You’ll need Ragel installed to build the new scanner.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>thomas</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Jul 2006</NOBR> at <NOBR>13:16</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Thanks, that did it.</P>


	<P>Not sure if that is of any use to you. But I needed it: http://rafb.net/paste/results/bVlGWd11.html</P>


	<P><CODE>doc.get_elements_by_tag_name('h3').each { |tag| puts tag.inner_text }</CODE></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>luke redpath</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Jul 2006</NOBR> at <NOBR>06:27</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Great little library – love it. I’ve written a small extension for Test::Unit that lets you test your Rails views using hpricot instead of the clunky assert_tag function.</P>


	<P><A href="http://www.lukeredpath.co.uk/index.php/2006/07/07/testing-your-rails-views-with-hpricot/">Hpricot Test Extension for Rails</A></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>trans</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>08 Jul 2006</NOBR> at <NOBR>12:41</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Cleary Hpricot is for  HTML , but how might it fair with strict  XML ?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>need for speed</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>08 Jul 2006</NOBR> at <NOBR>14:33</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>In the benchmark i miss a comparison with ruby-libxml!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>jm</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>10 Jul 2006</NOBR> at <NOBR>09:08</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>so does this not work on windows?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>probablyCorey</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Jul 2006</NOBR> at <NOBR>08:48</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>If you can parse <A href="http://www.ardorny.com/">this site</A> then Hpricot is the magical!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>18 Jul 2006</NOBR> at <NOBR>11:58</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>probablyCorey:</STRONG> Oh, wow, that is hideous.  Three nested  HTML  pages.  Hpricot does it, but I really don’t know what’s correct in this case.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>not</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>18 Jul 2006</NOBR> at <NOBR>18:47</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Any chance of making a “pure” ruby version?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>19 Jul 2006</NOBR> at <NOBR>11:25</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Binaries will be out in 0.5.  Watch the <A href="../https://code.whytheluckystiff.net/hpricot/roadmap">map</A>.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>ryan</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>21 Jul 2006</NOBR> at <NOBR>15:03</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I found a borken page for you.  At least it broke Hpricot 0.3.</P>


	<P><A href="http://blogs.ocregister.com/poplife/archives/2006/07/post_2.html">Broken</A></P>


<CODE>
`build_node': [bug] unknown structure: [:xmlprocins, "@include(\"ocregister/includes/global/login_table.php\");", nil, nil] (Exception)
</CODE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>mae</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>25 Jul 2006</NOBR> at <NOBR>01:59</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>will hpricot work in ruby 1.8.2?</P></DIV></DIV>
</DIV>


<DIV class="entry">
<FORM name="userComment" method="post" action="/api/comment/inspect/okayGiveHpricot02AGo">
  <DIV class="entryAttrib">
     <DIV class="entryAuthor"><INPUT name="sayor" type="textbox" size="15" maxlength="50"></DIV>
     <DIV id="liveTime" class="entryTime"><NOBR>11 Jul 2010</NOBR> at <NOBR>21:27</NOBR></DIV>
  </DIV>
  <DIV class="entryContentOuter"><DIV class="entryContent">
     <INPUT type="hidden" name="timestamp" value="yopYLare1A">
     <TEXTAREA name="consay" rows="6" cols="50"></TEXTAREA>
     <P><INPUT type="button" name="pleasePreview" value="preview" onclick="liveTextilePreview(document.forms[&#39;userComment&#39;].elements[&#39;consay&#39;], &#39;textilePreview&#39;, &#39;/api/preview&#39;)">
        <INPUT type="submit" name="submit" value="&gt;&gt;">
        <SMALL>* do <A href="../javascript:quickRedReference();">fancy stuff</A> in your comment.</SMALL>
     </P>
     <DIV id="textileWrap"><H4>PREVIEW PANE</H4>
     <DIV id="textilePreview"></DIV>
     </DIV>
     </DIV>
  </DIV></FORM></DIV>
  



        </DIV> 

</DIV>



</DIV>





</BODY></HTML>