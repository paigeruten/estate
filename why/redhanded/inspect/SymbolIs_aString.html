<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0091)redhanded.hobix.com/inspect/SymbolIs_aString.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/inspect/SymbolIs_aString.html">--><BASE href=".">


<TITLE>RedHanded » :symbol.is_a? String</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">:symbol.is_a? String
  <SPAN class="entryPermalink"><A href="../inspect/SymbolIs_aString.html" title="Permanent link to &ldquo;:symbol.is_a? String&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../inspect" title="List of entries in the &ldquo;inspect&rdquo; category">inspect</A>
</DIV>

     <DIV class="entryContent"><PRE> &gt;&gt; RUBY_VERSION
 =&gt; "1.9.0" 
 &gt;&gt; sounds = {:ka_ching =&gt; :money, "br_rr_ring" =&gt; :phone, 
      "phil_l_lip" =&gt; :nose}
 =&gt; {"br_rr_ring"=&gt;:phone, "phil_l_lip"=&gt;:nose, :ka_ching=&gt;:money}
 &gt;&gt; sounds["ka_ching"] = :cash
 =&gt; :cash
 &gt;&gt; sounds
 =&gt; {"br_rr_ring"=&gt;:phone, "phil_l_lip"=&gt;:nose, :ka_ching=&gt;:cash}
 &gt;&gt; sounds[:'br_rr_ring']
 =&gt; :phone
 &gt;&gt; :symbol.is_a? String
 =&gt; true
</PRE>

	<P>Goodbye, HashWithIndifferentAccess.  I feel toward you the same you feel toward your lookups.</P>


<PRE> &gt;&gt; :symbol.gsub(/sym/, 'muta')
 =&gt; :mutabol
</PRE></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>11:54</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    39 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Joe Van Dyk</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>12:32</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>claps</STRONG></P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>DHH</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>13:02</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>That’s effen awesome! Three cheers.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Matt Todd</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>13:07</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>That’s brilliantly clever! I guess that’s why we call you _Why… because we always ask ourselves “Why didn’t I think of that, damnit!?”</P>


	<P>Cheers!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Dr Nic</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>13:09</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Now we’ll never be able to explain the difference between symbols and strings to noobs! :)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>13:19</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>Dr Nic:</STRONG> Except, now we can say a symbol is just a frozen string.</P>


<PRE> &gt;&gt; "panther".gsub! /pan/, 'gun'
 =&gt; "gunther" 
 &gt;&gt; :gunther.gsub! /gun/, 'pan'
 RuntimeError: can't modify frozen string
</PRE>

	<P>The simple rule then being: you can call a panther Gunther, but Gunther can’t be a panther—<EM>he’s frozen under a sheet of ice.</EM></P>


	<P><STRONG>Also:</STRONG> In case you were wondering.</P>


<PRE> &gt;&gt; "panther".object_id
 =&gt; 68085330
 &gt;&gt; "panther".hash
 =&gt; -476157353
 &gt;&gt; :panther.object_id
 =&gt; 68074330
 &gt;&gt; :panther.hash
 =&gt; -476157353
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Adam</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>13:38</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Oh! with that further explanation, I would have to say three, maybe <EM>four</EM> cheers!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Ulysses</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>14:18</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Rock.</P>


	<P>Matt: Although very cool, it’s been done this way before; see Smalltalk for example. :-)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>14:29</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Oh, no, uh, this is Matz’ hack, guys.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>masukomi</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>14:43</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Ulysses: It’s all been done before in either Smalltalk or Lisp. I don’t think anyone’s come up with any significantly new programming paradigms in years. That doesn’t mean it isn’t a good idea to incorporate those ideas into Ruby or any other modern lang. Those old bearded guys knew what they were doing. New language creators just tend to ignore/forget/be ignorant of/not have time to reimplement the lessons of their predecossors.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>jvoorhis</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>14:51</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Finally, a Symbol really is just an interned String :)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>sporkmonger</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>15:26</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Well this is just awesome, now all the code I wrote for dealing with this problem is going to be unnecessary soon.  Yay for less code!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Manfred</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>15:45</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>‘Soon’</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>zenspider</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>16:08</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Potentially deadly…</P>


<PRE>h = { :symbol =&gt; 42 }
:symbol.gsub(/sym/, 'muta')
h
# =&gt; ?</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>16:09</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Hey, wow, this is like ten kinds of okay!  Good work matz!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>zenspider</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>16:12</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>ok. no worries:</P>


<PRE>% ./ruby19 -e 'p h = { :symbol =&gt; 42 }; p :symbol.gsub(/sym/, "muta"); p h'
{:symbol=&gt;42}
:mutabol
{:symbol=&gt;42}</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>FlashHater</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>16:13</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So, really, symbols <STRONG> ARE </STRONG> just lightweight strings now :) This gives us something else to talk about at our RoSL meeting on Thursday. 1.9 is shaping up to be a really cool release. Where be the  CHANGELOG ?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Daniel Berger</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>16:26</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Nice. Not <STRONG>thrilling</STRONG>, but nice.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>17:29</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>okay, matju has some defs, if anyone’s code is straddling.</P>


<PRE> #ifdef RARRAY_LEN
 #undef T_SYMBOL
 #define T_SYMBOL T_STRING
 static inline long  rb_str_len(Ruby s) {return RSTRING_LEN(s);}                                                               
 static inline char *rb_str_ptr(Ruby s) {return RSTRING_PTR(s);}                                                               
 static inline long  rb_ary_len(Ruby s) {return  RARRAY_LEN(s);}                                                               
 static inline Ruby *rb_ary_ptr(Ruby s) {return  RARRAY_PTR(s);}
 #else                                                                                                                         
 static inline long  rb_str_len(Ruby s) {return RSTRING(s)-&gt;len;}                                                              
 static inline char *rb_str_ptr(Ruby s) {return RSTRING(s)-&gt;ptr;}                                                              
 static inline long  rb_ary_len(Ruby s) {return  RARRAY(s)-&gt;len;}                                                              
 static inline Ruby *rb_ary_ptr(Ruby s) {return  RARRAY(s)-&gt;ptr;}                                                              
 #endif 
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Trejkaz</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>18:56</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Yuck.  Too bad if you previously relied on the two not being equal.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>trans</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>19:20</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Whoa! The gods really are listening! :)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Jon</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>19:38</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>This is a cool change.  Sweet and sensible.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>RSL</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>19:51</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Is this only in the latest versions? I run Ubuntu and loaded the version of Ruby 1.9 listed in the repositories and none of these fun tricks worked. :/ Me want! Me want!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MonkeeSage</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>20:56</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><B>Trejkaz</B>: Just switch your checks to use<CODE>obj#object_id</CODE>— strings and symbols are still distinct objects, they are just permutable now. Identity is preserved, it’s just that equivalence is introduced.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Daniel Berger</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>05 Sep 2006</NOBR> at <NOBR>23:18</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>The more I think about it, the more I’m worried about this change.  Wouldn’t it have been easier to modify Hash#[] and Hash#[]=?</P>


	<P>Let’s face it, that covers 99% of the use cases we’re actually solving with this change. For the remaining 1%, you’ve saved me from the horror of a .to_s call.</P>


	<P>I guess I’m just worried this is going to bite us in the ass down the road somehow.  I don’t know how yet, but the feeling is nagging at me.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MonkeeSage</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>00:35</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Already<CODE>alias_method</CODE>,<CODE>define_method</CODE>,<CODE>method</CODE> and so forth accept either symbols or strings (internal conversion as needed). It just makes sense to extend that all the way down the line to hash indicies and so on; makes sense to me anyhow, but then I’m relateively dumb. ;)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>murphy</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>01:13</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Does this make string handling any faster? I heard Python had faster strings because tehy are immutable there…</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>J`ey</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>05:38</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>does this mean <EM>Symbol &lt; String</EM>?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>chris2</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>07:14</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>1. Is :foo  "foo"?
2. Is :foo = “foo”?
3. When will the GC claim Symbols too?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>chris2</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>07:19</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Sucky textile (and Preview is broken).</P>


	<P>1. Is <CODE>:foo == "foo"</CODE>?</P>


	<P>2. Is <CODE>:foo === "foo"</CODE>?</P>


	<P>3. When will the GC reclaim Symbols too?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Nicholas Wright</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>10:30</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>As cool as I think this will be for slimming down the api, and getting the hashwithindifferentaccess stuff removed from rails, it still feels very wrong to me.</P>


	<P>I’d love to provide a reason but at the moment nothing comes to mind.</P>


	<P>I guess for now I’ll say I’m happy about it.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>10:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>murph</STRONG>: No, we’ll still have mutable strings.  I don’t know about speed though.</P>


	<P><STRONG>J`ey</STRONG>:  Ehh… yesbutuntil the GC can reclaim Symbols, I definitely would not use Symbols in place of frozen strings—you’ll {fill up the symbol table,shoot your eye out}.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>12:17</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So, Matz cites <A href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-dev/29507">four reasons</A> for this decision:</P>


	<OL>
	<LI>The spread of ActiveSupport has increased the need for strings and symbols to be united as hash keys.</LI>
		<LI>To address <A href="http://rcrchive.net/rcr/show/342"> RCR 342 </A>, which would allow sorting of symbols. (Try: <CODE>Symbol.all_symbols.sort</CODE>.)</LI>
		<LI>Smalltalk’s symbols are a subclass of string. (<A href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-dev/29514">He adds</A> that this is his most motivating reason to do it.)</LI>
		<LI>Using symbols as immediate values can cause them to venture into <A href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-core/7401">pointer territory</A>, particularly on  OSX .</LI>
	</OL></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Nicholas Wright</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>13:58</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So, _why, out of curiousity are you actually able to read japanese? Or do you just use some translator to read all of the useful stuff from our cousins?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>rcorsaro</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>06 Sep 2006</NOBR> at <NOBR>19:17</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Nicholas: _why is actually about 20 people, 13 of which are Japanese.  How else do you think a mortal could be so productive and good at so many different things.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>chris2</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Sep 2006</NOBR> at <NOBR>05:44</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I think this is a bad decision.</P>


	<P>You can make Symbol a subclass of String, however :foo must not be <CODE>==</CODE> to “foo”.  It not only breaks a lot of code in tricky ways, it also takes the possibilty to use Symbols as “special case” values.</P>


	<P>With respect to the arguments by matz:</P>


	<P>1. If people would code consistent, they either use only Strings as keys, or only Symbols; or they mix them and need to be careful (there can be useful cases for this!).  HashWithIndifferentAccess looks more like a code smell to me.</P>


	<P>2. You can add <CODE>Symbol#&amp;lt;=&amp;gt;</CODE>, fine.  (Better sort them by name after all Strings, though.  I.e. <CODE>["foo", :baz", "bar"].sort =&amp;gt; ["bar", "foo", :baz]</CODE>)</P>


	<P>3. This is ok.  But don’t break <CODE>==</CODE> (and <CODE>===</CODE>).</P>


	<P>4. That sounds more like trying to avoid fixing bugs (I thought it had been fixed, even).  But it’s ok too.  It doesn’t even imply (3).</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>chris2</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Sep 2006</NOBR> at <NOBR>05:56</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I just saw <A href="http://ruby-sources.oree.ch/cgi-bin/gitweb.cgi?p=ruby.git;a=commitdiff;h=ef0a06f375d7e5d1fc7bacb51b0aeead9c321bb8">this change</A>.  I guess that fixes the issue appropriately.  It’s just a bit unfortunate that <CODE>(:foo == "foo") != ("foo" == :foo)</CODE>, but I can live with it.</P>


	<P>Thanks, matz!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MonkeeSage</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Sep 2006</NOBR> at <NOBR>13:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>If</P>


<PRE><CODE>1.method(:+) == 1.method('+') # =&gt; true&lt;/cod&gt;</CODE></PRE><CODE>

	<P>Shouldn’t</P>


<PRE>&lt;code&gt;:+ == '+' # =&gt; true&lt;/code&gt;</PRE>

	<P>also?</P>


	<P>Shouldn’t<CODE>Object#equal?</CODE>or<CODE>Object#object_id</CODE> be used to find the difference of identity between the symbol and string version of +, rather than<CODE>==</CODE>or<CODE>===</CODE>?</P></CODE></DIV><CODE></CODE></DIV><CODE>
</CODE></DIV><CODE>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>gmosx</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Sep 2006</NOBR> at <NOBR>14:36</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>great decision ;-)</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Ulysses</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>07 Sep 2006</NOBR> at <NOBR>14:46</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>masukomi: Of course—before this change our symbols were taken from lisp; (They can be converted to and from strings, but they’re not strings) whereas now they’re taken from Smalltalk. I for one welcome the change of parentage.</P></DIV></DIV>
</DIV>


<DIV class="entry">
<FORM name="userComment" method="post" action="/api/comment/inspect/SymbolIs_aString">
  <DIV class="entryAttrib">
     <DIV class="entryAuthor"><INPUT name="sayor" type="textbox" size="15" maxlength="50"></DIV>
     <DIV id="liveTime" class="entryTime"><NOBR>11 Jul 2010</NOBR> at <NOBR>21:11</NOBR></DIV>
  </DIV>
  <DIV class="entryContentOuter"><DIV class="entryContent">
     <INPUT type="hidden" name="timestamp" value="yopYLare1A">
     <TEXTAREA name="consay" rows="6" cols="50"></TEXTAREA>
     <P><INPUT type="button" name="pleasePreview" value="preview" onclick="liveTextilePreview(document.forms[&#39;userComment&#39;].elements[&#39;consay&#39;], &#39;textilePreview&#39;, &#39;/api/preview&#39;)">
        <INPUT type="submit" name="submit" value="&gt;&gt;">
        <SMALL>* do <A href="../javascript:quickRedReference();">fancy stuff</A> in your comment.</SMALL>
     </P>
     <DIV id="textileWrap"><H4>PREVIEW PANE</H4>
     <DIV id="textilePreview"></DIV>
     </DIV>
     </DIV>
  </DIV></FORM></DIV>
  



        </CODE></DIV><CODE> 

</CODE></DIV><CODE>



</CODE></DIV><CODE>





</CODE></BODY></HTML>