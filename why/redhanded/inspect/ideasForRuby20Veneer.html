<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0095)redhanded.hobix.com/inspect/ideasForRuby20Veneer.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<BASE href="http://redhanded.hobix.com.wstub.archive.org/inspect/ideasForRuby20Veneer.html">--><BASE href=".">


<TITLE>RedHanded » Ideas for Ruby 2 Manners</TITLE>
<LINK rel="shortcut icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<LINK rel="icon" href="../favicon.ico" type="image/vnd.microsoft.icon" />
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="-1">




<STYLE type="text/css">
 @import "../site.css"; 
</STYLE>
</HEAD><BODY>

<DIV id="page">

<DIV id="hoodwinkd">
  <A href="http://hoodwinkd.hobix.com/"><SPAN>hoodwink.d enhanced</SPAN></A>

</DIV>
<DIV id="buttons">
<DL class="tab">
  <DT><A title="Syndicate this Site" href="index.xml">RSS</A></DT>
  <DD><A title="Syndicate this Site" href="index.xml">2.0</A></DD>
</DL>
<DL class="tab xhtml">
  <DT><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">XHTML</A></DT>
  <DD><A title="Validate this Site" href="http://validator.w3.org/check?uri=http://redhanded.hobix.com/">1.0</A></DD>
</DL>
</DIV>
<H1 class="title"><A href="../"><IMG src="../images/redhanded.gif" alt="RedHanded"></A></H1>
<DIV id="banner">
  <DIV class="tagline">sneaking Ruby through the system</DIV>
  <DIV class="nav"><A href="../5.gets/">5.gets</A> | <A href="../bits/">bits</A> | 
    <A href="../inspect/">inspect</A> | <A href="../cult/">the cult</A> | <A href="../-h/">-h</A></DIV>
</DIV>


<DIV id="content">
<DIV id="sidebar">
<P>New to RedHanded? <A href="../-h/pardonAndWelcome.html">About our sections.</A></P>

<DIV class="sidebarBox">
<H2 class="sidebarTitle">Archive</H2>
<UL>

    <LI><A href="../2004/12/">December 2004</A></LI>

    <LI><A href="../2005/01/">January 2005</A></LI>

    <LI><A href="../2005/02/">February 2005</A></LI>

    <LI><A href="../2005/03/">March 2005</A></LI>

    <LI><A href="../2005/04/">April 2005</A></LI>

    <LI><A href="../2005/05/">May 2005</A></LI>

    <LI><A href="../2005/06/">June 2005</A></LI>

    <LI><A href="../2005/07/">July 2005</A></LI>

    <LI><A href="../2005/08/">August 2005</A></LI>

    <LI><A href="../2005/09/">September 2005</A></LI>

    <LI><A href="../2005/10/">October 2005</A></LI>

    <LI><A href="../2005/11/">November 2005</A></LI>

    <LI><A href="../2005/12/">December 2005</A></LI>

    <LI><A href="../2006/01/">January 2006</A></LI>

    <LI><A href="../2006/02/">February 2006</A></LI>

    <LI><A href="../2006/03/">March 2006</A></LI>

    <LI><A href="../2006/04/">April 2006</A></LI>

    <LI><A href="../2006/05/">May 2006</A></LI>

    <LI><A href="../2006/06/">June 2006</A></LI>

    <LI><A href="../2006/07/">July 2006</A></LI>

    <LI><A href="../2006/08/">August 2006</A></LI>

    <LI><A href="../2006/09/">September 2006</A></LI>

    <LI><A href="../2006/10/">October 2006</A></LI>

    <LI><A href="../2006/11/">November 2006</A></LI>

    <LI><A href="../2006/12/">December 2006</A></LI>

    <LI><A href="../2007/01/">January 2007</A></LI>

    <LI><A href="../2007/02/">February 2007</A></LI>

    <LI><A href="../2007/03/">March 2007</A></LI>

    <LI><A href="../2007/04/">April 2007</A></LI>

    <LI><A href="../2007/05/">May 2007</A></LI>

</UL>
</DIV>

<P><A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html"><IMG src="../images/prag-ruby-book.jpg" alt="PickAxe II"></A><BR>
<A href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">Get your copy of <I>Programming Ruby</I>!</A></P>

 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Links</H2>
        <A href="http://technorati.com/tags/ruby">@technorati</A><BR>
<A href="http://del.icio.us/tag/ruby">@del.icio.us</A><BR>
<A href="http://www.flickr.com/photos/tags/ruby">@flickr</A><BR>
<A href="http://www.artima.com/articles/index.jsp?topic=ruby">@artima</A><BR>
<A href="http://blog.caboo.se/">@caboo</A><BR>
<A href="http://www.oreillynet.com/ruby">@oreilly</A><BR>
<A href="http://ruby-lang.org/">ruby</A><BR>
<A href="http://ruby-doc.org/">-&gt; docs</A><BR>
<A href="http://rubyforge.org/">-&gt; wares</A><BR>
<A href="http://rubygarden.org/ruby/">-&gt; wiki</A><BR>
<A href="http://www.sitepoint.com/forums/forumdisplay.php?f=227">-&gt; forum</A><BR>
<A href="http://www.rubyquiz.com/">-&gt; quizzes</A><BR>
<A href="http://planetruby.0x42.net/">-&gt; planet</A><BR>
<A href="http://meme.b9.com/cdates.html?channel=ruby-lang">-&gt; irc</A><BR>
<A href="http://www.rubyweeklynews.org/">rubyweeklynews</A><BR>
<A href="http://weblog.rubyonrails.com/">rails</A><BR>
<A href="http://wiki.rubyonrails.org/">-&gt; wiki</A><BR>
<A href="http://www.planetrubyonrails.org/">-&gt; planet</A><BR>
<A href="http://thesaq.com/rubyonrails/">-&gt; irc</A><BR>
<A href="http://anarchaia.org/">%anarchaia</A><BR>
<A href="http://project.ioni.st/">%projectionist</A><BR>
<A href="http://pugs.blogs.com/">~audreyt</A><BR>
<A href="http://dablog.rubypal.com/">~black</A><BR>
<A href="http://www.jamesbritt.com/">~britt</A><BR>
<A href="http://www.jamisbuck.org/jamis/">~buck</A><BR>
<A href="http://tomcopeland.blogs.com/juniordeveloper/">~copeland</A><BR>
<A href="http://eigenclass.org/">~fernandez</A><BR>
<A href="http://www.chadfowler.com/">~fowler</A><BR>
<A href="http://www.loudthinking.com/">~hansson</A><BR>
<A href="http://blog.segment7.net/">~hodel</A><BR>
<A href="http://slash7.com/">~hoy/7</A><BR>
<A href="http://fhwang.net/">~hwang</A><BR>
<A href="http://blog.leetsoft.com/">~luetke</A><BR>
<A href="http://www.worldlingo.com/wl/translate?wl_lp=JA-en&wl_glossary=gl1&wl_fl=3&wl_rurl=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_url=http%3A%2F%2Fwww.rubyist.net%2F%7Ematz%2F&wl_g_table=-3">~matz</A><BR>
<A href="http://moonbase.rydia.net/">~mental</A><BR>
<A href="http://techno-weenie.net/">~olson</A><BR>
<A href="http://pragprog.com/pragdave">~pragdave</A><BR>
<A href="http://www.livejournal.com/users/premshree/">~premshree</A><BR>
<A href="http://kronavita.de/chris/blog/">~neukirchen</A><BR>
<A href="http://www.robbyonrails.com/">~robby</A><BR>
<A href="http://www.rousette.org.uk/">~rousette</A><BR>
<A href="http://nubyonrails.com/">~topfunky</A><BR>
<A href="http://www.jvoorhis.com/">~voorhis</A><BR>
<A href="http://onestepback.org/">~weirich</A><BR>
<A href="http://blog.zenspider.com/">~zenspider</A><BR>
        </DIV> 
 <DIV class="sidebarBox">
        <H2 class="sidebarTitle">Syndicate</H2>
        <UL>
            <LI><A href="../index.xml">RSS 2.0</A></LI>
        </UL>
        </DIV> 
 <DIV class="sidebarBox">
        <P>Built upon <A href="http://hobix.com/">Hobix</A></P>
        </DIV> 
<IMG src="../images/redhanded-duck.gif" alt="Type the Duck">
<DIV class="email">Got a story for us? <A href="../mailto:redhanded@hobix.com">E-mail it!</A></DIV>
<DIV class="technorati"><P><A href="http://www.technorati.com/profile/whytheluckystiff">Technorati Profile</A>
<A href="http://www.technorati.com/cosmos/search.html?url=http%3A%2F%2Fredhanded.hobix.com"><BR>
<IMG src="../images/bubble_icon.gif" height="20" width="24" alt="Get Conversations about RedHanded &raquo; sneaking Ruby through the system"></A>
</P>
</DIV>

</DIV>


 <DIV id="blog">
        
<DIV class="entry">
    <H2 class="entryTitle">Ideas for Ruby 2 Manners
  <SPAN class="entryPermalink"><A href="../inspect/ideasForRuby20Veneer.html" title="Permanent link to &ldquo;Ideas for Ruby 2 Manners&rdquo;">#</A></SPAN>
</H2>

<DIV class="entrySection">by <A href="http://whytheluckystiff.net/" title="Visit why&#39;s homepage">why</A> 
  in <A href="../inspect" title="List of entries in the &ldquo;inspect&rdquo; category">inspect</A>
</DIV>

     <DIV class="entryContent"><P>If I could clean up the little quacks that Ruby gives here and there.</P>


	<H2>Object.inspect</H2>


	<P>Currently:</P>


<PRE> =&gt; #&lt;Object:0xb7cd5ed0&gt;
 =&gt; #&lt;Book:0xb7cc4d00 @title="Gorbachev's Finger Tricks",
    @author="Gorbachev", @length=150&gt;
 =&gt; #&lt;File:ruby.h&gt;
</PRE>

	<P>Slight polish:</P>


<PRE> =&gt; (Object)
 =&gt; (Book @title="Gorbachev's Finger Tricks" 
    @author="Gorbachev" @length=150)
 =&gt; (File ruby.h)
</PRE>

	<H2>Proc.inspect</H2>


	<P>Currently:</P>


<PRE> =&gt; #&lt;Proc:0xb7d19aa0@(irb):4&gt;
</PRE>

	<P>Show arity?</P>


<PRE> =&gt; (Proc |a,*b|)
</PRE>

	<H2>Backtraces and Warnings</H2>


	<P>Currently:</P>


<PRE> bin/tiny_wm.rb:4: parse error, unexpected '='
 $d = = X11::Display.new
       ^

 bin/tiny_wm.rb:2:in `require': no such file to load -- X11/Display (LoadError)
        from bin/tiny_wm.rb:2

 ArgumentError: wrong number of arguments (3 for 1)
        from (irb):1:in `gets'
        from (irb):1

 /home/why/bin/warn.rb:2: warning: parenthesize argument(s) for future version
</PRE>

	<P>Slight polish:</P>


<PRE> ParseError in bin/tiny_wm.rb (line 4): 
   unexpected '='
   &gt; $d = = X11::Display.new
   &gt;       ^

 LoadError in bin/tiny_wm.rb (line 2) at `require':
   no such file to load -- X11/Display
        from bin/tiny_wm.rb (line 2)

 ArgumentError in irb (line 1) at `gets': 
   wrong number of arguments (3 for 1)
        from irb (line 1)

 Warning in /home/why/bin/warn.rb (line 2):
   parenthesize argument(s) for future version
</PRE>

	<P>We should avoid wrapping the `message’ inside the initial line of a backtrace.  It is often the most crucial part.</P>


	<P>It sure would be nice to have the ability to customize the look of your backtraces.  To have backtrace objects like in <A href="http://blog.fallingsnow.net/articles/2005/07/11/sydney-developer-preview-release-1-out">Sydney</A>. I’d like to brightly <SPAN class="caps">ANSI</SPAN> highlight the backtrace line which refers to <CODE>$PROGRAM_NAME</CODE>, give a dark color to trace lines from the stdlib and medium highlight everything else.</P>


	<P>I’m sure all of you out there can give help here.  But you know what I mean about some of these?</P></DIV> 
</DIV>
<DIV class="entryFooter"> 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>16:24</NOBR>
    <NOSCRIPT></NOSCRIPT>
   | 
    28 comments
</DIV>
</DIV>
<DIV id="comments">


<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>phil602</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>16:34</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>_why, be honest. Are you writing a window manager? If there were a rubidic <A href="http://sawmill.sf.net/">sawfish</A>, I’d be gleeful.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Jamis</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>16:58</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I agree with the Proc translation, but I do think the file/line number should be retained in the dump. That has helped me many times in debugging.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>lukfugl</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>17:42</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I would feel slightly saddened to see the memory address disappear out of the default inspect (I actually use it quite often in visual inspections), but I can see where you want to get rid of the clutter, especially for nested data structures.</P>

	<P>I <STRONG>really</STRONG> like the idea of adding the arity to Proc#inspect. Also agree with Jamis on wanting to keep the definition location as well (though maybe via a separate method than inspect?).</P>

	<P>As for backtraces, I’m pretty sure Exception#backtrace already exists, but only returning an array of strings, rather than a Backtrace object. Couldn’t be <STRONG>too</STRONG> hard to meta-hack that, right? I might take a stab at it when I get a spare moment, if no one else has by then.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>17:49</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Hmm.  +1 on Proc arity and backtrace objects.</P>

	<P>I kind of like the <CODE>#&lt;...&gt;</CODE> notation, though.  It’s got a long and distinguished history in lisp-land.  Also I agree with lukfugl that having the address is terribly handy at times.  If not the address, at least include the object id to distinguish.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>17:50</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Well, actually <CODE>()</CODE> notation has a long and distinguished history in lisp-land.  Just not for “internal” objects.</P>

	<P>Eh, you know what I mean.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>17:53</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So, why IDs for objects?  Just think of the clutter it would add for hashes and arrays.</P>

	<P>I kind of like <CODE>#&lt;...&gt;</CODE> also.  Still, the parens give an O shape for Object.  Again, think of the simplicity we use when displaying hashes and arrays.
  REXML  shows  XML  documents as <CODE>&lt;html&gt;..&lt;/html&gt;</CODE> in inspect.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:00</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><PRE> =&gt; [(Book @title="Catcher in the Rye"), (Book @title="The Adventures of Huckleberry Finn")]

 =&gt; (Shelf @books=[(Book @title="Catcher in the Rye"), (Book @title="The Adventures of Huckleberry Finn")])

 =&gt; (RSS::Feed @updated_at=Tue Feb 14 18:52:31 EST 2006 @cache_file=(File /tmp/feed.cache))
</PRE>
	<P>Yes, let’s also cite how Time is displayed unadorned.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:03</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Hmm.  Hashes and arrays are more … nondescript … normally, their specific identity doesn’t matter so much.  They wear the same teeshirts and mingle in the crowd.  Less so for many other sorts.</P>

	<P>I think with object ids, I’d be mostly happy with the status quo as far as who inspects with a pointer and who doesn’t.</P>

	<P>There are exceptions to all this I know, but I guess we’re talking about the defaults?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:08</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Where the thing with ids comes in best is with opaque objects (like from C extensions).</P>

	<P>If the default inspect only showed ids/pointers for RStruct and that sort, maybe that would be okay.</P>

	<P>I have to say the “clean look” is growing on me.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>lukfugl</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:09</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>why</STRONG>: “So, why IDs for objects?”</P>

	<P>I’ll often rely on Object#inspect showing (currently/proposed) the address/object_id of the object for quick verification against other objects that it is, in fact, the very same object. That right there is my primary use for Object#inspect.</P>

	<P>But as I mentioned above, I can see where the clutter is a problem in Hashes and Arrays and other objects that contain many other objects. Maybe we could use a “verbose” flag argument to #inspect?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>101010</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:10</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I would vote that Object#inspect output include the object_id. I’ve used this many times to check correctness of sharing at a glance.</P>

	<P>On the other hand, it would be nice to be able to set a list of things to show. Add a Proc for object_id, one for instance data, one for anything else we can image. Or maybe I am thinking to generally.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>glasser</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:16</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>So the object ids themselves aren’t particularly interesting, but being able to see if two particular objects are the same (in-memory) object or not is. That is, it’s the links that are interesting, not the actual values.</P>

	<P> YAML  makes this pretty clear, since you can see with the &amp;1/*1 where duplicated structures are without needing to have addresses everywhere.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:17</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>lukfugl</STRONG>: I don’t know, it seems like at that point you’re almost better off just calling <CODE>Object#object_id</CODE> direct-like.</P>

	<P>Even if you add a verbose flag, you’d still have to convince <CODE>Kernel#p</CODE> and many other friends to use it.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:18</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Interestingly, I started using  YAML  for debugging dumps on Sunday night for exactly that reason.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>MenTaLguY</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:20</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>glasser</STRONG>: I guess the other thing is hacking C extensions.  Being able to get a C pointer right out of there from the Ruby prompt is nice sometimes.</P>

	<P>But that would be covered by the previously mentioned pointers-only-for-RStruct motion.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>lukfugl</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:32</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P><STRONG>MenTalguY</STRONG>: <EM>”I don’t know, it seems like at that point you’re almost better off just calling <CODE>Object#object_id</CODE> direct-like.”</EM></P>

	<P>That’s what I was thinking too, and almost said so, but then reflected that every now and then I do want to see both the object_id <STRONG>and</STRONG> the structure, and wouldn’t want to have to call both. And I’d be satisfied with <CODE>puts obj.inspect(true)</CODE> versus <CODE>p obj</CODE> (ie. <CODE>Kernel#p</CODE> can go ahead and use the default of non-verbose).</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Gerry</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:34</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent">Maybe not as drastic while still keeping the errors consistent.  Less verbose output while still keeping the content is more usable.
<PRE>bin/tiny_wm.rb:4 ParseError: unexpected '='
   &gt; $d = = X11::Display.new
   &gt;       ^

bin/tiny_wm.rb:2 LoadError: `require' no such file to load -- X11/Display
irb:1 ArgumentError: `gets' wrong number of arguments (3 for 1)
/home/why/bin/warn.rb:2 Warning: parenthesize argument(s) for future version
</PRE></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>18:46</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Great comments, the duplicate object situation and all that.</P>

	<P>Try looking away from your own particular needs and examining the general need for friendliness at the prompt.  I am very happy with the way Ruby is right now, but only because I give it a flattering light in my mind.</P>

	<P>Think of the  IRB  prompt:</P>

<PRE> irb(main):001:0&gt;
</PRE>
	<P>Now I understand it.  There’s useful stuff there.  But I still prefer to cut it down to:</P>

<PRE> &gt;&gt;
</PRE>
	<P>These characters are each of them important at this level.  Does Jamis really need <CODE>__FILE__</CODE> and <CODE>__LINE__</CODE> in his inspect?  Or could we offer more enough distinguishing properties of the block that make it just as recognizable?
 Or could <CODE>inspect</CODE> show simple summaries while still making details available?</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Platte Daddy</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>19:56</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I like where you’re going with this. It’d be nice to have that inspect clutter organized and out of the way. Focus it on what will help us humans quickly grok the object map or whatever we’re looking at.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>slumos</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>20:01</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>I’d like an easy way to process filenames in a backtrace to remove the full path (not by default of course).  Especially with delivered software, <CODE>/local/ruby-1.8.4/lib/ruby/1.8/site_ruby/<I>finally_something_interesting.rb:42</I>;</CODE> is painful sometimes.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>slumos</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>14 Feb 2006</NOBR> at <NOBR>20:04</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Hey! My “i” tags worked in the preview but not in the post!</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>scoopr</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Feb 2006</NOBR> at <NOBR>00:40</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent">I suggest
<CODE><PRE>p a   =&gt; (Object)
$verbose_inspect=true
p a   =&gt; (Object:0x2c36400)
</PRE></CODE>
and
<CODE><PRE>ruby -e 'p $verbose_inspect'
  false
ruby -v -e 'p $verbose_inspect'
  true
</PRE></CODE>
Which I would think would be ideal, when I  want to see general structure of some obect, I get just that, and when I’m in the mood for searching proper object sharing, I can just hit the switch and be done with it.</DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>habes</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Feb 2006</NOBR> at <NOBR>00:58</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>These are nice ideas, and I’m a <STRONG>huge</STRONG> fan of polishing areas like this.</P>

	<P>My pet peeve: why are Array#to_s and Hash#to_s so useless?  When is squishing all keys/values together <B>ever</B> what you want?  Even if you set $, they aren’t that useful.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>stefan</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Feb 2006</NOBR> at <NOBR>01:10</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Not sure whether you’d be willing to take ideas from those guys, but within Eclipse’s Java debugger, cryptic object IDs are made readable by simply assigning them consecutive numbers during a debugging session. So you’ll easily see that object 6 and object 7 are different …</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>why</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Feb 2006</NOBR> at <NOBR>11:36</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>In  IRB , where you see lots of <CODE>inspect</CODE> spills, I think it would be confusing to see lots of <CODE>(Object 1)</CODE> and try to remember that they’re different.  Not too sure, though, I don’t know.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>&lt;|:{</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Feb 2006</NOBR> at <NOBR>12:37</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>Once again, I’m late to the party…</P>

	<P>My suggestion for Ruby 2:</P>

	<P>I always thought it would be nice to have a Block class.</P>

	<P>{ puts “This is a block!” }.class #=&gt;Block</P>

	<P>b = { puts “This is a block!” } 
b.to_s #=&gt; “puts \”This is a block!\”“</P>

	<P>In this context b wouldn’t be a closure (or a Proc object) but could be converted to a Proc object later in a different binding:
  b.to_proc.call</P>


	<P>Blocks would be convertable easily to procs:
  b.to_proc
OR: Proc.new b</P>

	<P>Blocks would be serializeable (hence the to_s)... though Procs still wouldn’t be (but that’s OK).</P>

	<P>and of course it would be great to be able to do:</P>

	<PRE><CODE>b.to_ast</CODE></PRE>

	<P>...but now I’m really dreaming.</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>riffraff</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>15 Feb 2006</NOBR> at <NOBR>13:38</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P> FWIW , I’d like to have re-eval()uable output for objects, but I guess this would require much more syntax hacking than simple inspect override :(</P></DIV></DIV>
</DIV>

<DIV class="entry">
    <DIV class="entryAttrib">
        <DIV class="entryAuthor"><H3>Bil</H3></DIV>
        <DIV class="entryTime">said on 
    <NOBR>01 Mar 2006</NOBR> at <NOBR>05:06</NOBR>
    <NOSCRIPT></NOSCRIPT>
  </DIV>
    </DIV>
    <DIV class="entryContentOuter"><DIV class="entryContent"><P>What’s the Ruby answer to <A href="http://ipython.scipy.org/">ipython</A>?</P></DIV></DIV>
</DIV>


  <DIV class="entry">
    <P><SMALL>Comments are closed for this entry.</SMALL></P>
  



        </DIV> 

</DIV>



</DIV>





</DIV></BODY></HTML>